<div class="product-table">
  <input type="text" [(ngModel)]="color" />
  <h1 [style.color]="color">{{ title }}</h1>

  <table *ngIf="products.length > 0">
    <thead>
      <tr>
        <th>Product Name</th>
        <th>Price</th>
        <th>Quantity</th>
        <th>Category</th>
        <th>Likes</th>
        <th>Action</th>
        <th>Note</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let product of products" class="product-item">
        <td
          [class]="
            product.quantity === 0
              ? 'product-name-error'
              : 'product-name-success'
          "
        >
          {{ product.name }}
        </td>
        <td>{{ product.price }}</td>
        <td>{{ product.quantity }}</td>
        <td>{{ product.category?.name }}</td>
        <td>{{ product.likes }}</td>
        <td>{{ product.likes >= 5 && "Best Product" || "" }}</td>
        <td>
          <button
            class="buy-button"
            [disabled]="product.quantity === 0"
            (click)="buy(product)"
          >
            Buy
          </button>
          <button class="delete-button" (click)="deleteProduct(product)">
            Delete
          </button>

          <button class="like-button" (click)="likeProduct(product)">
            Like
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <p *ngIf="products.length === 0">No products available.</p>
</div>
